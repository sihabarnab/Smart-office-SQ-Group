$object){ if (strstr($bladename, '.blade.php')) { $total++; echo "$bladename - "; try { $bladecontents = file_get_contents($bladename); $phpcontents = $bladeCompiler->compileString($bladecontents); $phpname = str_replace('.blade.php', '.php', $bladename); file_put_contents($phpname, $phpcontents); $bladebackup = str_replace($viewspath, $viewsbackup, $bladename); if (!is_dir(dirname($bladebackup))) mkdir(dirname($bladebackup), 0755, true); rename($bladename, $bladebackup); echo "OK"; $ok++; } catch (Exception $e){ echo $e->getMessage(); } echo "\n"; } } echo "Total:$total, compiled:$ok, errors:".($total - $ok)."\n"; 